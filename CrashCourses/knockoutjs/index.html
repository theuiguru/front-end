<!--Video Source: https://www.youtube.com/playlist?list=PLzpzty4VRTPfbao0m8oADCmBD5BmWM4rT-->
<style type="text/css">
.green {color:green;}
.red {color:red;}
.white {color:white;}
</style>
<!-- <p>First Name: <input data-bind="value:firstName, valueUpdate:'keyup'"/></p>
<p>First Name: <span data-bind="text:firstName"></span></p> -->
<p>Friends (<span data-bind="text:friends().length"></span>)</p>
<ul data-bind="foreach:friends">
	<li data-bind="css:styleFriend">
		<span data-bind="text:name"></span>
		<input type="checkbox" data-bind="checked:knowJS"/>
		<input data-bind="value:favLib, visible:knowJS"/>
		<input data-bind="value:noLib">
		<button data-bind="click:removeFriend">X</button>
	</li>
</ul>
<button data-bind="click:addFriend, enable:friends().length<5">Add Friend</button>
<script src="knockout.js"></script>
<script src="knockout.mapping-latest.js"></script>
<script>
//from db
function Frnd() {
	return {
		name: 'Buddy',
		knowJS: false,
		favLib: 'Knockout',
		isWeird: false,
		noLib: 3
	}
}
function Friend(frnd) {
	var map = ko.mapping.fromJS(frnd);
	map.removeFriend = function() {
		obj.friends.remove(map);
	}
	map.styleFriend = ko.computed(function() {
		var lib = map.noLib();
		if(lib>35) map.removeFriend();
		if(lib>25) return 'white';
		if(lib>10) return 'red';
		if(lib>5) return 'green';
	})
	return map;
}
// function Friend(name) {
// 	this.name = name;
// 	this.knowJS = ko.observable(false);
// 	this.favLib = ko.observable('');
// 	this.removeFriend = function() {
// 		obj.friends.remove(this);
// 	};
// }
var obj = {
	friends:ko.observableArray([new Friend(new Frnd())])
};
obj.addFriend = function() {
	obj.friends.push(new Friend(new Frnd()));
}
ko.applyBindings(obj);
</script>